{
	"name": "Astar ⭐",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "Другие алгоритмы",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "astar_breadth_first_fill",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 886442534088687,
					"children": [
						{
							"eventType": "comment",
							"text": "Breadth First Search"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 301998596546614
								},
								{
									"id": "is-empty",
									"objectClass": "astar_frontier",
									"sid": 905176432594617,
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 941137758400412,
							"children": [
								{
									"eventType": "variable",
									"name": "current",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 388302682838702
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 453717616473092,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 392578906234966,
													"parameters": {
														"variable": "current",
														"value": "astar_frontier.At(0)"
													}
												},
												{
													"id": "load",
													"objectClass": "astar_neighbours",
													"sid": 116764763795262,
													"parameters": {
														"json": "Functions.grid_get_neighbours(current)"
													}
												},
												{
													"callFunction": "draw_rectangle_on_cell",
													"sid": 439691242032729,
													"parameters": [
														"current",
														"\"green\"",
														"45",
														true,
														"1"
													]
												}
											],
											"sid": 504203564887171
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 534654778925696,
													"parameters": {
														"name": "\"next\"",
														"start-index": "0",
														"end-index": "astar_neighbours.Width - 1"
													}
												}
											],
											"actions": [],
											"sid": 864020399631810,
											"children": [
												{
													"eventType": "variable",
													"name": "next",
													"type": "number",
													"initialValue": "-1",
													"comment": "",
													"isStatic": true,
													"isConstant": false,
													"sid": 811781849961263
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 879143482901098,
															"parameters": {
																"variable": "next",
																"value": "astar_neighbours.At(loopindex)"
															}
														}
													],
													"sid": 967587575975422
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "contains-value",
															"objectClass": "astar_reached",
															"sid": 613869702386169,
															"parameters": {
																"value": "next"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "push",
															"objectClass": "astar_frontier",
															"sid": 202466885219484,
															"parameters": {
																"where": "back",
																"value": "next",
																"axis": "x"
															}
														},
														{
															"id": "push",
															"objectClass": "astar_reached",
															"sid": 419876419455915,
															"parameters": {
																"where": "back",
																"value": "next",
																"axis": "x"
															}
														},
														{
															"callFunction": "draw_rectangle_on_cell",
															"sid": 542035316393672,
															"parameters": [
																"next",
																"\"blue\"",
																"50",
																true,
																"1"
															]
														}
													],
													"sid": 637826323732587
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "pop",
													"objectClass": "astar_frontier",
													"sid": 562499348251419,
													"parameters": {
														"where": "front",
														"axis": "x"
													}
												}
											],
											"sid": 718633913445273
										}
									]
								}
							]
						}
					]
				},
				{
					"functionName": "astar_breadth_first_search",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "start",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 277611100343649
						},
						{
							"name": "goal",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 574210811117265
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "astar_clean_reached",
							"sid": 174714322925737
						},
						{
							"id": "set-size",
							"objectClass": "astar_reached",
							"sid": 987081062464520,
							"parameters": {
								"width": "0",
								"height": "2",
								"depth": "1"
							}
						},
						{
							"id": "clear",
							"objectClass": "astar_reached",
							"sid": 929184052201107,
							"parameters": {
								"value": "-1"
							}
						}
					],
					"sid": 629245426525565,
					"children": [
						{
							"eventType": "comment",
							"text": "Breadth First Search"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 550300454742596,
									"parameters": {
										"count": "200"
									}
								},
								{
									"id": "is-empty",
									"objectClass": "astar_frontier",
									"sid": 976727530222110,
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 309876474943229,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 977356042536942,
									"children": [
										{
											"eventType": "variable",
											"name": "current",
											"type": "number",
											"initialValue": "-1",
											"comment": "",
											"isStatic": true,
											"isConstant": false,
											"sid": 296032961388009
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 450206442833779,
													"parameters": {
														"variable": "current",
														"value": "astar_frontier.At(0)"
													}
												},
												{
													"id": "load",
													"objectClass": "astar_neighbours",
													"sid": 922167016449870,
													"parameters": {
														"json": "Functions.grid_get_neighbours(current)"
													}
												},
												{
													"callFunction": "draw_rectangle_on_cell",
													"sid": 192156213977912,
													"parameters": [
														"current",
														"\"green\"",
														"45",
														true,
														"1"
													]
												}
											],
											"sid": 735254817815418
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 261881894059811,
													"parameters": {
														"name": "\"next\"",
														"start-index": "0",
														"end-index": "astar_neighbours.Width - 1"
													}
												}
											],
											"actions": [],
											"sid": 590457365170358,
											"children": [
												{
													"eventType": "variable",
													"name": "next",
													"type": "number",
													"initialValue": "-1",
													"comment": "",
													"isStatic": true,
													"isConstant": false,
													"sid": 834494688580138
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 509109715434827,
															"parameters": {
																"variable": "next",
																"value": "astar_neighbours.At(loopindex)"
															}
														}
													],
													"sid": 137249427690524
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "contains-value",
															"objectClass": "astar_reached",
															"sid": 731947510971210,
															"parameters": {
																"value": "next"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"callFunction": "draw_rectangle_on_cell",
															"sid": 531532089257652,
															"parameters": [
																"next",
																"\"blue\"",
																"50",
																true,
																"1"
															]
														},
														{
															"id": "push",
															"objectClass": "astar_frontier",
															"sid": 121416708190288,
															"parameters": {
																"where": "back",
																"value": "next",
																"axis": "x"
															}
														},
														{
															"type": "comment",
															"text": "Добавление истории пути."
														},
														{
															"id": "set-size",
															"objectClass": "astar_reached",
															"sid": 141793643005729,
															"parameters": {
																"width": "Self.Width + 1",
																"height": "Self.Height",
																"depth": "Self.Depth"
															}
														},
														{
															"id": "set-at-xy",
															"objectClass": "astar_reached",
															"sid": 904587194843102,
															"parameters": {
																"x": "Self.Width-1",
																"y": "1",
																"value": "next"
															}
														},
														{
															"id": "set-at-xy",
															"objectClass": "astar_reached",
															"sid": 840963274846348,
															"parameters": {
																"x": "Self.Width-1",
																"y": "0",
																"value": "current"
															}
														}
													],
													"sid": 815794130579649
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "pop",
													"objectClass": "astar_frontier",
													"sid": 398282661015912,
													"parameters": {
														"where": "front",
														"axis": "x"
													}
												}
											],
											"sid": 573697202692613
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [],
							"sid": 246169226890171,
							"children": [
								{
									"eventType": "variable",
									"name": "current",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 746232691498127
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 917974890836508,
											"parameters": {
												"variable": "current",
												"value": "58"
											}
										}
									],
									"sid": 511534947548959
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 332721511798272,
											"parameters": {
												"count": "5"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 842495144687736,
											"parameters": {
												"variable": "current",
												"comparison": 1,
												"value": "start"
											}
										}
									],
									"actions": [],
									"sid": 646596447058430,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "push",
													"objectClass": "astar_path",
													"sid": 529531291041291,
													"parameters": {
														"where": "back",
														"value": "current",
														"axis": "x"
													}
												},
												{
													"callFunction": "draw_rectangle_on_cell",
													"sid": 733963087418671,
													"parameters": [
														"current",
														"\"red\"",
														"50",
														true,
														"1"
													]
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 429089025502637,
													"parameters": {
														"variable": "current",
														"value": "astar_reached.At(astar_reached.IndexOf(current), 1)"
													}
												}
											],
											"sid": 556740932236688
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 253338016763630
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "A٭ Поиск Пути",
			"description": "Алгоритм поиска пути.",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "astar_start",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "start_index",
							"type": "number",
							"initialValue": "1",
							"comment": "",
							"sid": 771011202913669
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 706393912838019,
					"children": [
						{
							"eventType": "comment",
							"text": "start"
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "astar_clean_all",
									"sid": 166404742786589
								},
								{
									"id": "push",
									"objectClass": "astar_frontier",
									"sid": 751372588018044,
									"parameters": {
										"where": "back",
										"value": "start_index",
										"axis": "x"
									}
								},
								{
									"id": "push",
									"objectClass": "astar_reached",
									"sid": 546062916715656,
									"parameters": {
										"where": "back",
										"value": "start_index",
										"axis": "x"
									}
								}
							],
							"sid": 712233325796312
						}
					]
				},
				{
					"functionName": "astar_clean_path",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 371976522914063,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_path",
									"sid": 265350792178218,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_path",
									"sid": 583356473546165,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 317872213100652
						}
					]
				},
				{
					"functionName": "astar_clean_reached",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 639517823375714,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_reached",
									"sid": 145907965236344,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_reached",
									"sid": 721975907023977,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 457535929866203
						}
					]
				},
				{
					"functionName": "astar_clean_all",
					"functionDescription": "Очистка массивов.",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 384605375402047,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_frontier",
									"sid": 484960439039118,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_frontier",
									"sid": 994728632012817,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 920413058279258
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_neighbours",
									"sid": 872001617091664,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_neighbours",
									"sid": 992503868970798,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 903962173273164
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_reached",
									"sid": 447195316208309,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_reached",
									"sid": 516585440075772,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 610671208853916
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_path",
									"sid": 667392176910672,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_path",
									"sid": 272945311800588,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 891355647777199
						}
					]
				}
			],
			"sid": 720937801200661,
			"background-color": [
				0.8666666666666667,
				0.9607843137254902,
				0.8588235294117647,
				1
			]
		}
	],
	"sid": 339607499482058
}