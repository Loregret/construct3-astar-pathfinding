{
	"name": "Astar ⭐",
	"events": [
		{
			"eventType": "comment",
			"text": "[b]Зависимости:[/b]\n- grid_is_index_free()\n- draw_rectangle_on_cell()\n- get_neightbours()\n- grid_index_to_x\n- grid_index_to_y"
		},
		{
			"functionName": "astar_patf",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "start",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 861217799617458
				},
				{
					"name": "goal",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 517240723009236
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 152419167904268,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "astar_clean_all",
							"sid": 104694148543729
						},
						{
							"callFunction": "astar_frontier_put",
							"sid": 752135820529485,
							"parameters": [
								"start",
								"0"
							]
						},
						{
							"id": "add-key",
							"objectClass": "astar_came_from",
							"sid": 637330034633800,
							"parameters": {
								"key": "str(start)",
								"value": "\"None\""
							}
						},
						{
							"id": "add-key",
							"objectClass": "astar_cost_so_far",
							"sid": 128765469250087,
							"parameters": {
								"key": "str(start)",
								"value": "0"
							}
						}
					],
					"sid": 108953053118754
				},
				{
					"eventType": "variable",
					"name": "current",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 702789150618704
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "while",
							"objectClass": "System",
							"sid": 892884878001967
						},
						{
							"id": "is-empty",
							"objectClass": "astar_frontier",
							"sid": 265188553888523,
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 563967318447691,
					"children": [
						{
							"eventType": "comment",
							"text": "Start"
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [],
							"sid": 636098450143486,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 853107625709152,
											"parameters": {
												"variable": "current",
												"value": "Functions.astar_frontier_get"
											}
										},
										{
											"id": "load",
											"objectClass": "astar_neighbours",
											"sid": 823129600758120,
											"parameters": {
												"json": "Functions.grid_get_neighbours(current)"
											}
										},
										{
											"callFunction": "draw_rectangle_on_cell",
											"sid": 787272346076884,
											"parameters": [
												"current",
												"\"green\"",
												"45",
												true,
												"1"
											]
										}
									],
									"sid": 364180339950922
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 279268277627333,
									"parameters": {
										"first-value": "current",
										"comparison": 0,
										"second-value": "goal"
									}
								}
							],
							"actions": [
								{
									"id": "stop-loop",
									"objectClass": "System",
									"sid": 372518703811133
								}
							],
							"sid": 281386285576529
						},
						{
							"eventType": "comment",
							"text": "Main loop"
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [],
							"sid": 537858355739249,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 913980431433774,
											"parameters": {
												"name": "\"next\"",
												"start-index": "0",
												"end-index": "astar_neighbours.Width - 1"
											}
										}
									],
									"actions": [],
									"sid": 738042786776512,
									"children": [
										{
											"eventType": "variable",
											"name": "next",
											"type": "number",
											"initialValue": "-1",
											"comment": "",
											"isStatic": true,
											"isConstant": false,
											"sid": 996421523558713
										},
										{
											"eventType": "variable",
											"name": "new_cost",
											"type": "number",
											"initialValue": "-1",
											"comment": "",
											"isStatic": true,
											"isConstant": false,
											"sid": 281257553261954
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 106318048134748,
													"parameters": {
														"variable": "next",
														"value": "astar_neighbours.At(loopindex)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 215704408625691,
													"parameters": {
														"variable": "new_cost",
														"value": "astar_cost_so_far.Get(str(current)) + Functions.grid_get_index_cost(next)"
													}
												}
											],
											"sid": 932920517547432
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 292917238256494,
													"parameters": {
														"first-value": "Functions.grid_is_index_free(next)",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [],
											"sid": 385920262192790,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "has-key",
															"objectClass": "astar_cost_so_far",
															"sid": 218143402067447,
															"parameters": {
																"key": "str(next)"
															},
															"isInverted": true
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 785289660214256,
															"parameters": {
																"variable": "new_cost",
																"comparison": 2,
																"value": "astar_cost_so_far.Get(str(next))"
															}
														}
													],
													"actions": [
														{
															"id": "add-key",
															"objectClass": "astar_cost_so_far",
															"sid": 548933236794936,
															"parameters": {
																"key": "str(next)",
																"value": "new_cost"
															}
														},
														{
															"callFunction": "astar_frontier_put",
															"sid": 243896863212648,
															"parameters": [
																"next",
																"new_cost+Functions.astar_heuristic(Functions.grid_index_to_x(goal,1, 1), Functions.grid_index_to_y(goal,1,1), Functions.grid_index_to_x(next,1,1), Functions.grid_index_to_y(next,1,1))"
															]
														},
														{
															"callFunction": "draw_string_on_cell",
															"sid": 995399975959681,
															"parameters": [
																"current",
																"3",
																"str(current)",
																"10",
																"\"red\"",
																"100"
															]
														},
														{
															"id": "add-key",
															"objectClass": "astar_came_from",
															"sid": 645888852890382,
															"parameters": {
																"key": "str(next)",
																"value": "current"
															}
														},
														{
															"callFunction": "draw_rectangle_on_cell",
															"sid": 683628498192872,
															"parameters": [
																"next",
																"\"blue\"",
																"25",
																true,
																"1"
															]
														}
													],
													"sid": 872853276351454,
													"isOrBlock": true
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Другие алгоритмы",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Grredy Best First Search",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "astar_greedy_search",
							"functionDescription": "",
							"functionCategory": "#astar",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "start",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 538699988692879
								},
								{
									"name": "goal",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"sid": 848636052939871
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 247512152492989,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"callFunction": "astar_clean_all",
											"sid": 330231947213939
										},
										{
											"callFunction": "astar_frontier_put",
											"sid": 760610632472134,
											"parameters": [
												"start",
												"0"
											]
										},
										{
											"id": "set-size",
											"objectClass": "astar_reached",
											"sid": 341832994958213,
											"parameters": {
												"width": "Functions.grid_get_index_count",
												"height": "1",
												"depth": "1"
											}
										},
										{
											"id": "clear",
											"objectClass": "astar_reached",
											"sid": 949880327086425,
											"parameters": {
												"value": "-1"
											}
										}
									],
									"sid": 122717281730220
								},
								{
									"eventType": "variable",
									"name": "current",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 360247347075907
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "while",
											"objectClass": "System",
											"sid": 850566592235978
										},
										{
											"id": "is-empty",
											"objectClass": "astar_frontier",
											"sid": 489359712589022,
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 146108956645209,
									"children": [
										{
											"eventType": "comment",
											"text": "Start"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 481547244212793,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 928553819976320,
															"parameters": {
																"variable": "current",
																"value": "Functions.astar_frontier_get"
															}
														},
														{
															"id": "load",
															"objectClass": "astar_neighbours",
															"sid": 778389986104781,
															"parameters": {
																"json": "Functions.grid_get_neighbours(current)"
															}
														},
														{
															"callFunction": "draw_rectangle_on_cell",
															"sid": 246759445004675,
															"parameters": [
																"current",
																"\"green\"",
																"45",
																true,
																"1"
															]
														}
													],
													"sid": 880313041644432
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 313134680687302,
													"parameters": {
														"first-value": "current",
														"comparison": 0,
														"second-value": "goal"
													}
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 745494863160754
												}
											],
											"sid": 489188637408216
										},
										{
											"eventType": "comment",
											"text": "Main loop"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 938409445981047,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 685278948728911,
															"parameters": {
																"name": "\"next\"",
																"start-index": "0",
																"end-index": "astar_neighbours.Width - 1"
															}
														}
													],
													"actions": [],
													"sid": 902556948537280,
													"children": [
														{
															"eventType": "variable",
															"name": "next",
															"type": "number",
															"initialValue": "-1",
															"comment": "",
															"isStatic": true,
															"isConstant": false,
															"sid": 915200736274410
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 663878716894950,
																	"parameters": {
																		"variable": "next",
																		"value": "astar_neighbours.At(loopindex)"
																	}
																}
															],
															"sid": 974100881980892
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 771475565133850,
																	"parameters": {
																		"first-value": "Functions.grid_is_index_free(next)",
																		"comparison": 0,
																		"second-value": "1"
																	}
																},
																{
																	"id": "contains-value",
																	"objectClass": "astar_reached",
																	"sid": 730311981293886,
																	"parameters": {
																		"value": "next"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"callFunction": "draw_rectangle_on_cell",
																	"sid": 390669211187216,
																	"parameters": [
																		"next",
																		"\"blue\"",
																		"25",
																		true,
																		"1"
																	]
																},
																{
																	"callFunction": "astar_frontier_put",
																	"sid": 334521359590091,
																	"parameters": [
																		"next",
																		"Functions.astar_heuristic( Functions.grid_index_to_x(goal,0,0), Functions.grid_index_to_y(goal,0,0), Functions.grid_index_to_x(next,0,0), Functions.grid_index_to_y(next,0,0))"
																	]
																},
																{
																	"id": "set-at-x",
																	"objectClass": "astar_reached",
																	"sid": 661115069069153,
																	"parameters": {
																		"x": "next",
																		"value": "current"
																	}
																}
															],
															"sid": 292005160098119
														}
													]
												}
											]
										}
									]
								}
							]
						}
					],
					"sid": 454427329827254
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Djikstra",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "astar_djikstra_fill",
							"functionDescription": "",
							"functionCategory": "#astar",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 800803524601235,
							"children": [
								{
									"eventType": "variable",
									"name": "current",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 694084558051009
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "while",
											"objectClass": "System",
											"sid": 612815138311754,
											"disabled": true
										},
										{
											"id": "is-empty",
											"objectClass": "astar_frontier",
											"sid": 336698924141200,
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 838144167099189,
									"children": [
										{
											"eventType": "comment",
											"text": "Start"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 175359409732252,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 882048103589072,
															"parameters": {
																"variable": "current",
																"value": "Functions.astar_frontier_get"
															}
														},
														{
															"id": "load",
															"objectClass": "astar_neighbours",
															"sid": 664415298543181,
															"parameters": {
																"json": "Functions.grid_get_neighbours(current)"
															}
														},
														{
															"callFunction": "draw_rectangle_on_cell",
															"sid": 541073472870842,
															"parameters": [
																"current",
																"\"green\"",
																"45",
																true,
																"1"
															]
														}
													],
													"sid": 420546887749503
												}
											]
										},
										{
											"eventType": "comment",
											"text": "Main loop"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 310332668738458,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 922421655652810,
															"parameters": {
																"name": "\"next\"",
																"start-index": "0",
																"end-index": "astar_neighbours.Width - 1"
															}
														}
													],
													"actions": [],
													"sid": 626004629963399,
													"children": [
														{
															"eventType": "variable",
															"name": "next",
															"type": "number",
															"initialValue": "-1",
															"comment": "",
															"isStatic": true,
															"isConstant": false,
															"sid": 305572999442385
														},
														{
															"eventType": "variable",
															"name": "new_cost",
															"type": "number",
															"initialValue": "-1",
															"comment": "",
															"isStatic": true,
															"isConstant": false,
															"sid": 400133769844646
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 993835100169986,
																	"parameters": {
																		"variable": "next",
																		"value": "astar_neighbours.At(loopindex)"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 674411198105590,
																	"parameters": {
																		"variable": "new_cost",
																		"value": "astar_cost_so_far.Get(str(current)) + Functions.grid_get_index_cost(next)"
																	}
																}
															],
															"sid": 221897196432352
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 254048574366882,
																	"parameters": {
																		"first-value": "Functions.grid_is_index_free(next)",
																		"comparison": 0,
																		"second-value": "1"
																	}
																}
															],
															"actions": [],
															"sid": 970803700547925,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "has-key",
																			"objectClass": "astar_cost_so_far",
																			"sid": 503808086455643,
																			"parameters": {
																				"key": "str(next)"
																			},
																			"isInverted": true
																		},
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 855707372524257,
																			"parameters": {
																				"variable": "new_cost",
																				"comparison": 2,
																				"value": "astar_cost_so_far.Get(str(next))"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "add-key",
																			"objectClass": "astar_cost_so_far",
																			"sid": 539687843689232,
																			"parameters": {
																				"key": "str(next)",
																				"value": "new_cost"
																			}
																		},
																		{
																			"callFunction": "astar_frontier_put",
																			"sid": 106660906747626,
																			"parameters": [
																				"next",
																				"new_cost"
																			]
																		},
																		{
																			"id": "add-key",
																			"objectClass": "astar_came_from",
																			"sid": 331235332116455,
																			"parameters": {
																				"key": "str(next)",
																				"value": "current"
																			}
																		},
																		{
																			"callFunction": "draw_rectangle_on_cell",
																			"sid": 542981098300101,
																			"parameters": [
																				"next",
																				"\"blue\"",
																				"25",
																				true,
																				"1"
																			]
																		}
																	],
																	"sid": 942679039972075,
																	"isOrBlock": true
																}
															]
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "astar_djikstra_init",
							"functionDescription": "",
							"functionCategory": "#astar",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "start",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 612472726588673
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 226911186196160,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"callFunction": "astar_clean_all",
											"sid": 945169258392377
										},
										{
											"callFunction": "astar_frontier_put",
											"sid": 304483922543484,
											"parameters": [
												"start",
												"0"
											]
										}
									],
									"sid": 540539276071138
								}
							]
						}
					],
					"sid": 489552469727013
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Breadth first search",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "astar_breadth_first_fill",
							"functionDescription": "",
							"functionCategory": "#astar",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "start",
									"type": "number",
									"initialValue": "1",
									"comment": "",
									"sid": 817114910370390
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 788544048366680,
							"children": [
								{
									"eventType": "variable",
									"name": "current",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 470421307040016
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"callFunction": "astar_clean_all",
											"sid": 757794178993709
										},
										{
											"id": "push",
											"objectClass": "astar_frontier",
											"sid": 109819763359526,
											"parameters": {
												"where": "back",
												"value": "start",
												"axis": "x"
											}
										},
										{
											"id": "push",
											"objectClass": "astar_reached",
											"sid": 112909617582210,
											"parameters": {
												"where": "back",
												"value": "start",
												"axis": "x"
											}
										},
										{
											"id": "set-size",
											"objectClass": "astar_reached",
											"sid": 693052303882681,
											"parameters": {
												"width": "0",
												"height": "2",
												"depth": "1"
											}
										},
										{
											"id": "clear",
											"objectClass": "astar_reached",
											"sid": 655292952494486,
											"parameters": {
												"value": "-1"
											}
										}
									],
									"sid": 517837874469025
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "while",
											"objectClass": "System",
											"sid": 461114726915717
										},
										{
											"id": "is-empty",
											"objectClass": "astar_frontier",
											"sid": 203556099349428,
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 237973103471137,
									"children": [
										{
											"eventType": "comment",
											"text": "Start"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 416737514589543,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 170985721343550,
															"parameters": {
																"variable": "current",
																"value": "astar_frontier.At(0)"
															}
														},
														{
															"id": "load",
															"objectClass": "astar_neighbours",
															"sid": 614694725727269,
															"parameters": {
																"json": "Functions.grid_get_neighbours(current)"
															}
														},
														{
															"callFunction": "draw_rectangle_on_cell",
															"sid": 995887627909860,
															"disabled": true,
															"parameters": [
																"current",
																"\"green\"",
																"45",
																true,
																"1"
															]
														}
													],
													"sid": 438764132021226
												}
											]
										},
										{
											"eventType": "comment",
											"text": "Main loop"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 609609948694452,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 195048083764134,
															"parameters": {
																"name": "\"next\"",
																"start-index": "0",
																"end-index": "astar_neighbours.Width - 1"
															}
														}
													],
													"actions": [],
													"sid": 637330766992167,
													"children": [
														{
															"eventType": "variable",
															"name": "next",
															"type": "number",
															"initialValue": "-1",
															"comment": "",
															"isStatic": true,
															"isConstant": false,
															"sid": 427518240354543
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 188613232653727,
																	"parameters": {
																		"variable": "next",
																		"value": "astar_neighbours.At(loopindex)"
																	}
																}
															],
															"sid": 243254453766596
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "contains-value",
																	"objectClass": "astar_reached",
																	"sid": 344673206982611,
																	"parameters": {
																		"value": "next"
																	},
																	"isInverted": true
																},
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 140768764269172,
																	"parameters": {
																		"first-value": "Functions.grid_is_index_free(next)",
																		"comparison": 0,
																		"second-value": "1"
																	}
																}
															],
															"actions": [
																{
																	"id": "push",
																	"objectClass": "astar_frontier",
																	"sid": 280169394263013,
																	"parameters": {
																		"where": "back",
																		"value": "next",
																		"axis": "x"
																	}
																},
																{
																	"type": "comment",
																	"text": "Добавление истории пути."
																},
																{
																	"id": "set-size",
																	"objectClass": "astar_reached",
																	"sid": 638211759342933,
																	"parameters": {
																		"width": "Self.Width + 1",
																		"height": "Self.Height",
																		"depth": "Self.Depth"
																	}
																},
																{
																	"id": "set-at-xy",
																	"objectClass": "astar_reached",
																	"sid": 570532142236223,
																	"parameters": {
																		"x": "Self.Width-1",
																		"y": "1",
																		"value": "next"
																	}
																},
																{
																	"id": "set-at-xy",
																	"objectClass": "astar_reached",
																	"sid": 273072966598410,
																	"parameters": {
																		"x": "Self.Width-1",
																		"y": "0",
																		"value": "current"
																	}
																},
																{
																	"callFunction": "draw_rectangle_on_cell",
																	"sid": 543947390871822,
																	"disabled": true,
																	"parameters": [
																		"next",
																		"\"green\"",
																		"25",
																		true,
																		"1"
																	]
																}
															],
															"sid": 526885870702365
														}
													]
												}
											]
										},
										{
											"eventType": "comment",
											"text": "End"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 528070560185914,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "pop",
															"objectClass": "astar_frontier",
															"sid": 363549194338819,
															"parameters": {
																"where": "front",
																"axis": "x"
															}
														}
													],
													"sid": 796193131274615
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "astar_breadth_first_search",
							"functionDescription": "",
							"functionCategory": "#astar",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "start",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 277611100343649
								},
								{
									"name": "goal",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 574210811117265
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 713801449211258,
							"children": [
								{
									"eventType": "variable",
									"name": "current",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 832337838406056
								},
								{
									"eventType": "comment",
									"text": "breadth first"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 259901959163207,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"callFunction": "astar_clean_all",
													"sid": 778248953133417
												},
												{
													"id": "push",
													"objectClass": "astar_frontier",
													"sid": 898168621113232,
													"parameters": {
														"where": "back",
														"value": "start",
														"axis": "x"
													}
												},
												{
													"id": "push",
													"objectClass": "astar_reached",
													"sid": 443757040042953,
													"parameters": {
														"where": "back",
														"value": "start",
														"axis": "x"
													}
												},
												{
													"id": "set-size",
													"objectClass": "astar_reached",
													"sid": 982263748331559,
													"parameters": {
														"width": "0",
														"height": "2",
														"depth": "1"
													}
												},
												{
													"id": "clear",
													"objectClass": "astar_reached",
													"sid": 621809440963517,
													"parameters": {
														"value": "-1"
													}
												}
											],
											"sid": 713960945856351
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "while",
													"objectClass": "System",
													"sid": 724985770344811
												},
												{
													"id": "is-empty",
													"objectClass": "astar_frontier",
													"sid": 974129632263938,
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 186547192316172,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 276600240703899,
															"parameters": {
																"variable": "current",
																"comparison": 0,
																"value": "goal"
															}
														}
													],
													"actions": [
														{
															"id": "stop-loop",
															"objectClass": "System",
															"sid": 536257950922991
														}
													],
													"sid": 506654238060868
												},
												{
													"eventType": "comment",
													"text": "Start"
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [],
													"sid": 584320269668214,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 593594865716213,
																	"parameters": {
																		"variable": "current",
																		"value": "astar_frontier.At(0)"
																	}
																},
																{
																	"id": "load",
																	"objectClass": "astar_neighbours",
																	"sid": 448941604718436,
																	"parameters": {
																		"json": "Functions.grid_get_neighbours(current)"
																	}
																},
																{
																	"callFunction": "draw_rectangle_on_cell",
																	"sid": 105881710436269,
																	"disabled": true,
																	"parameters": [
																		"current",
																		"\"green\"",
																		"45",
																		true,
																		"1"
																	]
																}
															],
															"sid": 792809973674063
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Main loop"
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [],
													"sid": 429927037302887,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for",
																	"objectClass": "System",
																	"sid": 930659652062868,
																	"parameters": {
																		"name": "\"next\"",
																		"start-index": "0",
																		"end-index": "astar_neighbours.Width - 1"
																	}
																}
															],
															"actions": [],
															"sid": 638862787814326,
															"children": [
																{
																	"eventType": "variable",
																	"name": "next",
																	"type": "number",
																	"initialValue": "-1",
																	"comment": "",
																	"isStatic": true,
																	"isConstant": false,
																	"sid": 547763745468479
																},
																{
																	"eventType": "block",
																	"conditions": [],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 240230770885346,
																			"parameters": {
																				"variable": "next",
																				"value": "astar_neighbours.At(loopindex)"
																			}
																		}
																	],
																	"sid": 823530762993783
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "contains-value",
																			"objectClass": "astar_reached",
																			"sid": 254944443771628,
																			"parameters": {
																				"value": "next"
																			},
																			"isInverted": true
																		},
																		{
																			"id": "compare-two-values",
																			"objectClass": "System",
																			"sid": 413136284384694,
																			"parameters": {
																				"first-value": "Functions.grid_is_index_free(next)",
																				"comparison": 0,
																				"second-value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "push",
																			"objectClass": "astar_frontier",
																			"sid": 657102231902292,
																			"parameters": {
																				"where": "back",
																				"value": "next",
																				"axis": "x"
																			}
																		},
																		{
																			"type": "comment",
																			"text": "Добавление истории пути."
																		},
																		{
																			"id": "set-size",
																			"objectClass": "astar_reached",
																			"sid": 828018122201055,
																			"parameters": {
																				"width": "Self.Width + 1",
																				"height": "Self.Height",
																				"depth": "Self.Depth"
																			}
																		},
																		{
																			"id": "set-at-xy",
																			"objectClass": "astar_reached",
																			"sid": 814404546857366,
																			"parameters": {
																				"x": "Self.Width-1",
																				"y": "1",
																				"value": "next"
																			}
																		},
																		{
																			"id": "set-at-xy",
																			"objectClass": "astar_reached",
																			"sid": 647279904317096,
																			"parameters": {
																				"x": "Self.Width-1",
																				"y": "0",
																				"value": "current"
																			}
																		},
																		{
																			"callFunction": "draw_rectangle_on_cell",
																			"sid": 912524827514970,
																			"disabled": true,
																			"parameters": [
																				"next",
																				"\"green\"",
																				"25",
																				true,
																				"1"
																			]
																		}
																	],
																	"sid": 342700961576789
																}
															]
														}
													]
												},
												{
													"eventType": "comment",
													"text": "End"
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [],
													"sid": 785969005789726,
													"children": [
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "pop",
																	"objectClass": "astar_frontier",
																	"sid": 402064956840473,
																	"parameters": {
																		"where": "front",
																		"axis": "x"
																	}
																}
															],
															"sid": 353431333628829
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "pathfinding"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 109567187614681,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 705533300994489,
													"parameters": {
														"variable": "current",
														"value": "goal"
													}
												}
											],
											"sid": 385082628931810
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "while",
													"objectClass": "System",
													"sid": 987146043331976
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 887678131805625,
													"parameters": {
														"variable": "current",
														"comparison": 1,
														"value": "start"
													}
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "astar_path",
													"sid": 703551156288190,
													"parameters": {
														"where": "back",
														"value": "current",
														"axis": "x"
													}
												},
												{
													"callFunction": "draw_rectangle_on_cell",
													"sid": 508984115752610,
													"parameters": [
														"current",
														"\"blue\"",
														"50",
														true,
														"1"
													]
												}
											],
											"sid": 188840623626510,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 434298746690942,
															"parameters": {
																"name": "\"i\"",
																"start-index": "0",
																"end-index": "astar_reached.Width - 1"
															}
														}
													],
													"actions": [],
													"sid": 843881892609157,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-at-xy",
																	"objectClass": "astar_reached",
																	"sid": 497773582696033,
																	"parameters": {
																		"x": "loopindex",
																		"y": "1",
																		"comparison": 0,
																		"value": "current"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 942638246659089,
																	"parameters": {
																		"variable": "current",
																		"value": "astar_reached.At(loopindex, 0)"
																	}
																}
															],
															"sid": 312768571493378
														}
													]
												}
											]
										}
									]
								}
							]
						}
					],
					"sid": 674864407527219
				}
			],
			"sid": 253338016763630
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "A٭ Pathfinding",
			"description": "Astar pathfinding.",
			"isActiveOnStart": true,
			"children": [],
			"sid": 169532268821163,
			"background-color": [
				0.8666666666666667,
				0.9607843137254902,
				0.8588235294117647,
				1
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Astar - clean",
			"description": "Clean arrays.",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "astar_clean_all",
					"functionDescription": "Очистка массивов.",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 918632629509152,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [],
							"sid": 138323541776270
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_came_from",
									"sid": 310019608576801
								},
								{
									"callFunction": "astar_clean_path",
									"sid": 887514734981237
								},
								{
									"callFunction": "astar_clean_neighbours",
									"sid": 414156453162961
								},
								{
									"callFunction": "astar_clean_reached",
									"sid": 535033396868025
								},
								{
									"callFunction": "astar_clean_frontier",
									"sid": 649980989532289
								},
								{
									"callFunction": "astar_clean_cost_so_far",
									"sid": 433742365650217
								}
							],
							"sid": 380305034161276
						}
					]
				},
				{
					"functionName": "astar_clean_cost_so_far",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 172245376150308,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_cost_so_far",
									"sid": 187851963526381
								}
							],
							"sid": 964889991630511
						}
					]
				},
				{
					"functionName": "astar_clean_frontier",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 740397433582589,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_frontier",
									"sid": 105051032098349,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_frontier",
									"sid": 891450934687152,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 190185494076395
						}
					]
				},
				{
					"functionName": "astar_clean_neighbours",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 329693153217546,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_neighbours",
									"sid": 289380176652028,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_neighbours",
									"sid": 846888405027238,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 188166363986097
						}
					]
				},
				{
					"functionName": "astar_clean_path",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 947534964539556,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_path",
									"sid": 148298723416984,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_path",
									"sid": 548740523053124,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 140507353608154
						}
					]
				},
				{
					"functionName": "astar_clean_reached",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 100146565649213,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "clear",
									"objectClass": "astar_reached",
									"sid": 282118466222550,
									"parameters": {
										"value": "-1"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_reached",
									"sid": 831511472216619,
									"parameters": {
										"width": "0",
										"height": "1",
										"depth": "1"
									}
								}
							],
							"sid": 270051440819204
						}
					]
				}
			],
			"sid": 333371190036333
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Astar - frontier (priority queue)",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "astar_frontier_sort_by_priority",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 685480366573827,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 741242847243184,
									"parameters": {
										"first-value": "astar_frontier.Height",
										"comparison": 0,
										"second-value": "2"
									}
								}
							],
							"actions": [],
							"sid": 218317095657437,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 494287118077838,
											"parameters": {
												"name": "\"i\"",
												"start-index": "0",
												"end-index": "astar_frontier.Width-1"
											}
										}
									],
									"actions": [],
									"sid": 290682958426920,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 600262211439481,
													"parameters": {
														"name": "\"j\"",
														"start-index": "0",
														"end-index": "astar_frontier.Width-1-loopindex(\"i\")-1"
													}
												}
											],
											"actions": [],
											"sid": 700040331041032,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 407720051208107,
															"parameters": {
																"first-value": "loopindex(\"j\")",
																"comparison": 2,
																"second-value": "astar_frontier.Width-1"
															}
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 325273600858555,
															"parameters": {
																"first-value": "astar_frontier.At(loopindex(\"j\"), 1)",
																"comparison": 4,
																"second-value": "astar_frontier.At(loopindex(\"j\") + 1, 1)"
															}
														}
													],
													"actions": [],
													"sid": 364807496237389,
													"children": [
														{
															"eventType": "variable",
															"name": "sorting_var",
															"type": "number",
															"initialValue": "-1",
															"comment": "",
															"isStatic": true,
															"isConstant": false,
															"sid": 115825913727265
														},
														{
															"eventType": "variable",
															"name": "sorting_var2",
															"type": "number",
															"initialValue": "-1",
															"comment": "",
															"isStatic": true,
															"isConstant": false,
															"sid": 320196962166039
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 455157662960328,
																	"parameters": {
																		"variable": "sorting_var2",
																		"value": "astar_frontier.At(loopindex(\"j\"), 0)"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 689402383403729,
																	"parameters": {
																		"variable": "sorting_var",
																		"value": "astar_frontier.At(loopindex(\"j\"), 1)"
																	}
																},
																{
																	"id": "set-at-xy",
																	"objectClass": "astar_frontier",
																	"sid": 715405024715086,
																	"parameters": {
																		"x": "loopindex(\"j\")",
																		"y": "0",
																		"value": "astar_frontier.At(loopindex(\"j\") + 1, 0)"
																	}
																},
																{
																	"id": "set-at-xy",
																	"objectClass": "astar_frontier",
																	"sid": 474596189407993,
																	"parameters": {
																		"x": "loopindex(\"j\")",
																		"y": "1",
																		"value": "astar_frontier.At(loopindex(\"j\") + 1, 1)"
																	}
																},
																{
																	"id": "set-at-xy",
																	"objectClass": "astar_frontier",
																	"sid": 238624992688009,
																	"parameters": {
																		"x": "loopindex(\"j\") + 1",
																		"y": "0",
																		"value": "sorting_var2"
																	}
																},
																{
																	"id": "set-at-xy",
																	"objectClass": "astar_frontier",
																	"sid": 808539280415013,
																	"parameters": {
																		"x": "loopindex(\"j\") + 1",
																		"y": "1",
																		"value": "sorting_var"
																	}
																}
															],
															"sid": 719552748372862
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"functionName": "astar_frontier_put",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "element",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 693047920407699
						},
						{
							"name": "priority",
							"type": "number",
							"initialValue": "9999",
							"comment": "",
							"sid": 549571311485942
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 187819625041578,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "push",
									"objectClass": "astar_frontier",
									"sid": 110188655985214,
									"parameters": {
										"where": "front",
										"value": "element",
										"axis": "x"
									}
								},
								{
									"id": "set-size",
									"objectClass": "astar_frontier",
									"sid": 455700145895772,
									"parameters": {
										"width": "Self.Width",
										"height": "2",
										"depth": "1"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "astar_frontier",
									"sid": 731885895110856,
									"parameters": {
										"x": "0",
										"y": "1",
										"value": "priority"
									}
								},
								{
									"callFunction": "astar_frontier_sort_by_priority",
									"sid": 835584898827986
								},
								{
									"id": "reverse",
									"objectClass": "astar_frontier",
									"sid": 656270544409362,
									"parameters": {
										"axis": "x"
									}
								}
							],
							"sid": 520359900352666
						}
					]
				},
				{
					"functionName": "astar_frontier_get",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 496446709777968,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 693432807283811,
									"parameters": {
										"value": "astar_frontier.Back"
									}
								},
								{
									"id": "pop",
									"objectClass": "astar_frontier",
									"sid": 192262395666997,
									"parameters": {
										"where": "back",
										"axis": "x"
									}
								}
							],
							"sid": 314998398106004
						}
					]
				}
			],
			"sid": 617535481925164
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Astar - misc",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "astar_heuristic",
					"functionDescription": "",
					"functionCategory": "#astar",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "pos1_x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 173623577172629
						},
						{
							"name": "pos1_y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 539833375968967
						},
						{
							"name": "pos2_x",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 389910895008998
						},
						{
							"name": "pos2_y",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 788594666640660
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 346140622849821,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "Manhattan distance on a square grid"
								},
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 137016989577127,
									"parameters": {
										"value": "abs(pos1_x - pos2_x) + abs(pos1_y - pos2_y)"
									}
								}
							],
							"sid": 455007083120160
						}
					]
				}
			],
			"sid": 965943394883839
		}
	],
	"sid": 339607499482058
}