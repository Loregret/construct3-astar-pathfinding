{
	"name": "Main üìÑ",
	"events": [
		{
			"eventType": "comment",
			"text": "[h2] –û—Å–Ω–æ–≤–Ω—ã–µ –∏–≤–µ–Ω—Ç—ã",
			"background-color": [
				0.8588235294117647,
				0.9490196078431372,
				0.7607843137254902,
				1
			]
		},
		{
			"eventType": "include",
			"includeSheet": "Grid üìÑ"
		},
		{
			"eventType": "include",
			"includeSheet": "Camera üé•"
		},
		{
			"eventType": "comment",
			"text": "–†–∞–∑–º–µ—Ä—ã —Å–µ—Ç–∫–∏",
			"background-color": [
				0.8588235294117647,
				0.9490196078431372,
				0.7607843137254902,
				1
			]
		},
		{
			"eventType": "variable",
			"name": "grid_width",
			"type": "number",
			"initialValue": "16",
			"comment": "–®–∏—Ä–∏–Ω–∞ —Å–µ—Ç–∫–∏",
			"isStatic": false,
			"isConstant": false,
			"sid": 112169492892730
		},
		{
			"eventType": "variable",
			"name": "grid_height",
			"type": "number",
			"initialValue": "8",
			"comment": "–í—ã—Å–æ—Ç–∞ —Å–µ—Ç–∫–∏",
			"isStatic": false,
			"isConstant": false,
			"sid": 633060415564552
		},
		{
			"eventType": "comment",
			"text": "–†–∞–∑–º–µ—Ä—ã –∫–ª–µ—Ç–∫–∏",
			"background-color": [
				0.8588235294117647,
				0.9490196078431372,
				0.7607843137254902,
				1
			]
		},
		{
			"eventType": "variable",
			"name": "cell_size",
			"type": "number",
			"initialValue": "70",
			"comment": "–†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–π –∫–ª–µ—Ç–∫–∏.",
			"isStatic": false,
			"isConstant": false,
			"sid": 981812038493186
		},
		{
			"eventType": "variable",
			"name": "cell_offset",
			"type": "number",
			"initialValue": "5",
			"comment": "–ü—Ä–æ–º–µ–∂—É—Ç–∫–∏ –º–µ–∂–¥—É –∫–ª–µ—Ç–∫–∞–º–∏. (—Å –Ω–∏–º–∏ —Å–ª–µ–¥—É–µ—Ç –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ)",
			"isStatic": false,
			"isConstant": false,
			"sid": 348825377449189
		},
		{
			"eventType": "variable",
			"name": "current_unit",
			"type": "number",
			"initialValue": "-1",
			"comment": "–¢–µ–∫—É—â–∏–π —é–Ω–∏—Ç.",
			"isStatic": false,
			"isConstant": false,
			"sid": 852728852352226
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Start",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 199475657126236
						}
					],
					"actions": [],
					"sid": 876684893832576,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å–µ—Ç–∫–∏"
								},
								{
									"id": "add-key",
									"objectClass": "grid_config",
									"sid": 971099199260369,
									"disabled": true,
									"parameters": {
										"key": "\"draw_indexes\"",
										"value": "1"
									}
								},
								{
									"id": "add-key",
									"objectClass": "grid_config",
									"sid": 316875332158165,
									"disabled": true,
									"parameters": {
										"key": "\"draw_coordinates\"",
										"value": "1"
									}
								},
								{
									"id": "add-key",
									"objectClass": "grid_config",
									"sid": 415374783846366,
									"parameters": {
										"key": "\"draw_blocked\"",
										"value": "1"
									}
								},
								{
									"id": "add-key",
									"objectClass": "grid_config",
									"sid": 959432055754247,
									"parameters": {
										"key": "\"draw_selection\"",
										"value": "1"
									}
								}
							],
							"sid": 771676579018900
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∫–∏"
								},
								{
									"callFunction": "grid_create",
									"sid": 402965618314951,
									"parameters": [
										"grid_width",
										"grid_height",
										"cell_size",
										"cell_offset"
									]
								},
								{
									"callFunction": "draw_grid",
									"sid": 720171989583638,
									"parameters": [
										true,
										"2"
									]
								},
								{
									"callFunction": "grid_update",
									"sid": 129713098580630
								}
							],
							"sid": 893800275665830
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "–°–æ–∑–¥–∞–Ω–∏–µ —é–Ω–∏—Ç–æ–≤"
								},
								{
									"callFunction": "create_unit",
									"sid": 880463937878471,
									"parameters": [
										"55",
										"\"warrior\""
									]
								},
								{
									"callFunction": "create_unit",
									"sid": 461013194811401,
									"parameters": [
										"80",
										"\"ant\""
									]
								}
							],
							"sid": 656800075866427
						}
					]
				}
			],
			"sid": 434327720786105
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 765214479223468,
							"parameters": {
								"mouse-button": "right",
								"click-type": "clicked"
							}
						}
					],
					"actions": [],
					"sid": 179464215055276,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"type": "comment",
									"text": "–ü–æ—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ–ø—Ä–æ—Ö–æ–¥–∏–º–æ–≥–æ –±–ª–æ–∫–∞."
								},
								{
									"id": "set-at-x",
									"objectClass": "grid_cells",
									"sid": 781866473412409,
									"parameters": {
										"x": "Functions.grid_pos_to_index(Mouse.X, Mouse.Y, 0)",
										"value": "0"
									}
								},
								{
									"callFunction": "grid_update",
									"sid": 693502987230054
								}
							],
							"sid": 231981474919111
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 802610161928079,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						}
					],
					"actions": [],
					"sid": 402422963671018,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 158472113091929,
									"parameters": {
										"object": "grid_unit"
									}
								},
								{
									"id": "is-playing",
									"objectClass": "grid_unit",
									"sid": 266321126397570,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"move\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "–í—ã–¥–µ–ª–µ–Ω–∏–µ —é–Ω–∏—Ç–∞."
								},
								{
									"callFunction": "unit_select",
									"sid": 716881056426332,
									"parameters": [
										"grid_unit.UID"
									]
								},
								{
									"callFunction": "grid_update",
									"sid": 974055941615620
								}
							],
							"sid": 615935563858319
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 801445427285431
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 971380326630961,
									"parameters": {
										"first-value": "Functions.is_mouse_within_canvas",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "–û—Ç–ø—Ä–∞–≤–∫–∞ —é–Ω–∏—Ç–∞."
								}
							],
							"sid": 386562018761698,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "grid_unit",
											"sid": 999260077953025,
											"parameters": {
												"unique-id": " Functions.unit_get_selected_unit"
											}
										},
										{
											"id": "is-playing",
											"objectClass": "grid_unit",
											"sid": 793954470511891,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"move\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "grid_update",
											"sid": 609603974004161
										},
										{
											"callFunction": "astar_find_path",
											"sid": 798751742123530,
											"parameters": [
												"grid_unit.index",
												"Functions.grid_pos_to_index(Mouse.X, Mouse.Y, 0)",
												true
											]
										},
										{
											"callFunction": "astar_draw_path",
											"sid": 113181717390652
										}
									],
									"sid": 929405335248603,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-empty",
													"objectClass": "astar_path",
													"sid": 554748992910625,
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "unit_move_to",
													"sid": 272300423002278,
													"parameters": [
														"grid_unit.UID",
														"astar_path.Front"
													]
												}
											],
											"sid": 998371639785732
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 515869054491074
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Unit",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "grid_unit",
							"sid": 532576768291507,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"move\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "–î–≤–∏–≥–∞–µ—Ç —é–Ω–∏—Ç–∞ –ø–æ –≤—Å–µ–º –∫–ª–µ—Ç–∫–∞–º –≤ –ø—É—Ç–∏."
						}
					],
					"sid": 359645452214438,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-size",
									"objectClass": "astar_path",
									"sid": 243697830661763,
									"parameters": {
										"axis": "x",
										"comparison": 4,
										"value": "1"
									}
								},
								{
									"id": "is-empty",
									"objectClass": "astar_path",
									"sid": 544851194134545,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 437105693533505
								},
								{
									"id": "pop",
									"objectClass": "astar_path",
									"sid": 106649016349897,
									"parameters": {
										"where": "front",
										"axis": "x"
									}
								},
								{
									"callFunction": "unit_move_to",
									"sid": 534415339194833,
									"parameters": [
										"grid_unit.UID",
										"astar_path.Front"
									]
								}
							],
							"sid": 234072706869837
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 719843750223761
								}
							],
							"actions": [
								{
									"callFunction": "grid_update",
									"sid": 262993237587795
								},
								{
									"type": "comment",
									"text": "–ï—Å–ª–∏ –ø—É—Ç—å –æ–∫–æ–Ω—á–µ–Ω - –æ–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª —Å–µ—Ç–∫–∏."
								}
							],
							"sid": 120717943784012
						}
					]
				}
			],
			"sid": 309925950043237
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Functions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "is_mouse_within_canvas",
					"functionDescription": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∫—É—Ä—Å–æ—Ä –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –∫–∞–Ω–≤–∞—Å–∞.",
					"functionCategory": "#main",
					"functionReturnType": "number",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 980944894524313,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 812939547142203,
									"parameters": {
										"value": "Mouse.X",
										"lower-bound": "grid_drawing_canvas.X",
										"upper-bound": "grid_drawing_canvas.X + grid_drawing_canvas.Width"
									}
								},
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 474599812949651,
									"parameters": {
										"value": "Mouse.Y",
										"lower-bound": "grid_drawing_canvas.Y",
										"upper-bound": "grid_drawing_canvas.Y + grid_drawing_canvas.Height"
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 510029365603407,
									"parameters": {
										"value": "1"
									}
								}
							],
							"sid": 721876001531222
						}
					]
				}
			],
			"sid": 154537399774771
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debug",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 123795996029334
						},
						{
							"id": "is-in-preview",
							"objectClass": "System",
							"sid": 877720643399568
						}
					],
					"actions": [],
					"sid": 799806170249741,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "debug_text",
									"sid": 920363874241524,
									"parameters": {
										"text": "\"\""
									}
								}
							],
							"sid": 272811384339988
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 567723998285591,
									"parameters": {
										"text": "\"[b]FPS: [/b]\" & fps"
									}
								},
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 818191395806971,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 398684712828563
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 600933006027778,
									"parameters": {
										"text": "\"[b]Mouse: [/b]\" & int(Mouse.X) & \", \" & int(Mouse.Y)"
									}
								},
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 390879676182593,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 367639870209030
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 241016536571283,
									"parameters": {
										"text": "\"[b]Grid Size: [/b]\" & grid_config.Get(\"gridWidth\") & \", \" & grid_config.Get(\"gridHeight\")"
									}
								},
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 317344775759333,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 971780669854562
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 529047591572163,
									"parameters": {
										"text": "\"[b]Cell Index:[/b] \" & Functions.grid_pos_to_index(Mouse.X, Mouse.Y, 0)"
									}
								},
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 871397446076021,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 265729524659465
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 332976830020214,
									"parameters": {
										"text": "\"[b]Cell XY:[/b] \" & int(Mouse.X / grid_config.Get(\"cellSize\")) & \", \" & int(Mouse.Y / grid_config.Get(\"cellSize\"))"
									}
								},
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 285418783652154,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 987153676272912
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 358274269995534,
									"parameters": {
										"text": "\"[b]Grid Size: [/b]\" & Functions.grid_get_real_width & \", \" & Functions.grid_get_real_height"
									}
								},
								{
									"id": "append-text",
									"objectClass": "debug_text",
									"sid": 549839731264678,
									"parameters": {
										"text": "newline"
									}
								}
							],
							"sid": 671613426363101
						}
					]
				}
			],
			"sid": 418335270532547
		}
	],
	"sid": 604163391678533
}